<div *ngIf="isSideBarExpanded" color="primary">
    <ng-container *ngFor="let opt of optionList; let i = index">
        <mat-list class="mat-list-expanded">

            <button mat-button (click)="showSubMenu(i, opt.name, opt.route, 'EXPANDED')" 
                color="primary"
                [ngClass]="getActiveMenuItem(opt.isSelected, true)">
                <mat-icon>{{opt.icon}}</mat-icon>
                <span>{{opt.name | translate}}</span>
                <mat-icon class="arrow" *ngIf="opt.name !== 'Inicio'">expand_more</mat-icon>
            </button>


            <div class="sub-item-list" *ngIf="opt.isVisible">
                <mat-list class="sub-menu" *ngFor="let subOpt of  opt.subMenu">
                    <mat-list-item *ngIf="subOpt.isVisible">
                        <button color="primary" routerLink="/{{subOpt.route}}" (click)="activateSubMenu(subOpt)" mat-button
                            [ngClass]="getActiveMenuItem(subOpt.isSelected, false)">
                            <mat-icon class="menu-icon">circle</mat-icon>
                            <span>{{subOpt.name | translate}}</span>
                        </button>
                    </mat-list-item>
                </mat-list>
            </div>
        </mat-list>
    </ng-container>
</div>

<ng-container *ngIf="!isSideBarExpanded">
    <div *ngFor="let opt of optionList; let i = index" class="menu-collapsed">
        <button mat-button (click)="showSubMenu(i, opt.name, opt.route, 'COLLAPSED')"
            [ngClass]="getActiveMenuItem(opt.isSelected, false)">
            <div>
                <mat-icon class="menu-icon">{{opt.icon}}</mat-icon>
                <span class="span-opt-name">{{opt.name | translate}}</span>
            </div>
        </button>
        <div *ngIf="opt.isVisible" class="right-menu">
            <button (click)="activateSubMenu(subOpt)" mat-menu-item
                [ngClass]="getActiveMenuItem(subOpt.isSelected, false)" class="sub-item-button"
                routerLink="/{{subOpt.route}}" mat-menu-item *ngFor="let subOpt of opt.subMenu">
                <mat-icon class="sub-menu-icon">circle</mat-icon>
                <span>{{subOpt.name | translate}}</span>
            </button>
        </div>
    </div>
</ng-container>
<div class="sidebar-container">
    <div class="logo" *ngIf="isSideBarExpanded">
        <img src="../../../../../assets/logo-alice-blanco.png" alt="">
    </div>

    <mat-accordion [ngClass]="getMenuMargin()" displayMode="flat">
        <mat-expansion-panel class="nav-menu" hideToggle (click)="home()">
            <mat-expansion-panel-header>
                <mat-panel-title>
                    <span class="material-symbols-rounded">
                        home
                    </span>
                    <span *ngIf="isSideBarExpanded">{{"Inicio" | translate }}</span>
                </mat-panel-title>
            </mat-expansion-panel-header>

        </mat-expansion-panel>
        <mat-expansion-panel *ngIf="userCanAccessAdministration() | async" class="nav-menu flex"
            [hideToggle]="!isSideBarExpanded" (click)="showMenuNotExpanded()">
            <mat-expansion-panel-header>
                <mat-panel-title>
                    <span class="material-symbols-rounded">
                        settings
                    </span>
                    <span *ngIf="isSideBarExpanded">{{"Administracion" | translate}}</span>
                </mat-panel-title>
            </mat-expansion-panel-header>
            <div class="opt-menu" *ngIf="isSideBarExpanded || (!isSideBarExpanded && showMenuSideBarCollapsed)">
                <a *ngIf="userCanAccessModule(Modules.Applications) | async" class="nav-option flex"
                    routerLinkActive="active-link" [routerLink]="['/administration/applications']">
                    <button mat-button class="buttonText"> {{"Aplicaciones" | translate }}</button>
                </a>
                <a *ngIf="userCanAccessModule(Modules.Companies) | async" class="nav-option flex"
                    routerLinkActive="active-link" [routerLink]="['/administration/companies']">
                    <button mat-button class="buttonText"> {{"Empresas" | translate }}</button>
                </a>
                <a *ngIf="userCanAccessModule(Modules.Roles) | async" class="nav-option flex"
                    routerLinkActive="active-link" [routerLink]="['/administration/roles']">
                    <button mat-button class="buttonText"> {{"Roles" | translate }}</button>
                </a>
                <a *ngIf="userCanAccessModule(Modules.Modules) | async" class="nav-option flex"
                    routerLinkActive="active-link" [routerLink]="['/administration/modules']">
                    <button mat-button class="buttonText"> {{"Modulos" | translate }}</button>
                </a>
                <a *ngIf="userCanAccessModule(Modules.Users) | async" class="nav-option flex"
                    routerLinkActive="active-link" [routerLink]="['/administration/users']">
                    <button mat-button class="buttonText"> {{"Usuarios" | translate }}</button>
                </a>
            </div>

        </mat-expansion-panel>
        <mat-expansion-panel class="nav-menu flex" [hideToggle]="!isSideBarExpanded" (click)="showMenuNotExpanded()">
            <mat-expansion-panel-header>
                <mat-panel-title>
                    <span class="material-symbols-rounded">
                        edit_note
                    </span>
                    <span *ngIf="isSideBarExpanded">{{"Gestion" | translate }}</span>
                </mat-panel-title>
            </mat-expansion-panel-header>
            <div class="opt-menu" *ngIf="isSideBarExpanded || (!isSideBarExpanded && showMenuSideBarCollapsed) ">
                <a class="nav-option flex" routerLinkActive="active-link" [routerLink]="['/management/queries']">
                    <button mat-button class="buttonText"> {{"Consultas" | translate }}</button>
                </a>
            </div>
        </mat-expansion-panel>
       <!-- <mat-expansion-panel (click)="expandMenu()" class="nav-menu flex" *ngIf="!isSideBarExpanded"
            [hideToggle]="!isSideBarExpanded">
            <mat-expansion-panel-header class="expand-menu">
                <mat-panel-title>
                    <span class="material-symbols-outlined">
                        chevron_right
                    </span>
                </mat-panel-title>
            </mat-expansion-panel-header>
        </mat-expansion-panel>-->

        <button  *ngIf="isSideBarExpanded" mat-button class="nav-menu user_nav_menu" [matMenuTriggerFor]="menu">
            <div class="login-container">
                <img class="company-img" [src]="img">
                <div class="flex">
                    <div class="user_name_title">
                        {{user?.firstName}} {{user?.lastName}}
                    </div>
                    <div class="user_role_subtitle">
                        {{user?.roleName}}
                    </div>
                </div>
            </div>
        </button>
        <mat-menu #menu="matMenu" yPosition="above">
            <button (click)="closeSession()" id="myPanelId" mat-menu-item class="user-menu-items">Cerrar Sesion</button>
        </mat-menu>

    </mat-accordion>
</div>